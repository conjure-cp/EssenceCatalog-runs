language ESSENCE' 1.0

given maxMaterial: int
given fin1: int
given fin2: int
given quantity_Function1D: matrix indexed by [int(1..5)] of int(0..fin2)
given fin3: int
given fin4: int
given capacity_Function1D: matrix indexed by [int(1..3)] of int(0..fin4)
letting let1 be sum([quantity_Function1D[m] | m : int(1..5)])
find colour_Function1DPartial_Flags: matrix indexed by [int(1..let1)] of bool
find colour_Function1DPartial_Values: matrix indexed by [int(1..let1)] of int(1..3)
letting let2 be fin4
find contents_Function1DPartialR7_Flags: matrix indexed by [int(1..let1)] of bool
find contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags:
        matrix indexed by [int(1..let1), int(1..let2)] of int(0..maxMaterial)
find contents_Function1DPartialR7_Values_ExplicitWithFlags_Values:
        matrix indexed by [int(1..let1), int(1..let2)] of int(1..5)
branching on
    [colour_Function1DPartial_Flags, colour_Function1DPartial_Values, contents_Function1DPartialR7_Flags,
     contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags,
     contents_Function1DPartialR7_Values_ExplicitWithFlags_Values]
minimising sum([toInt(colour_Function1DPartial_Flags[q67]) | q67 : int(1..let1)])
such that
    and([colour_Function1DPartial_Flags[b] <-> contents_Function1DPartialR7_Flags[b] | b : int(1..let1)]),
    and([sum([toInt(contents_Function1DPartialR7_Flags[q16]) *
              catchUndef(sum([toInt(contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q16, q14] = q1) *
                              catchUndef(contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q16, q14], 0)
                                  | q14 : int(1..let2)]),
                         0)
                  | q16 : int(1..let1)])
         = quantity_Function1D[q1]
         /\
         and([contents_Function1DPartialR7_Flags[q16] -> contents_Function1DPartialR7_Flags[q16] | q16 : int(1..let1)])
             | q1 : int(1..5)]),
    and([colour_Function1DPartial_Flags[q22] ->
         and([sum([toInt(contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q22, q20] > 0) *
                   catchUndef(contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q22, q20], 0)
                       | q20 : int(1..let2)])
              <= capacity_Function1D[colour_Function1DPartial_Values[q22]],
              contents_Function1DPartialR7_Flags[q22], colour_Function1DPartial_Flags[q22];
                  int(1..3)])
             | q22 : int(1..let1)]),
    and([colour_Function1DPartial_Flags[q28] ->
         (colour_Function1DPartial_Values[q28] = 1 /\ colour_Function1DPartial_Flags[q28] ->
          !(or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q28, q24] > 0 /\
                contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q28, q24] = 2
                    | q24 : int(1..let2)])
            /\ contents_Function1DPartialR7_Flags[q28])
          /\
          !(or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q28, q26] > 0 /\
                contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q28, q26] = 3
                    | q26 : int(1..let2)])
            /\ contents_Function1DPartialR7_Flags[q28]))
             | q28 : int(1..let1)]),
    and([colour_Function1DPartial_Flags[q34] ->
         (colour_Function1DPartial_Values[q34] = 3 /\ colour_Function1DPartial_Flags[q34] ->
          !(or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q34, q30] > 0 /\
                contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q34, q30] = 4
                    | q30 : int(1..let2)])
            /\ contents_Function1DPartialR7_Flags[q34])
          /\
          !(or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q34, q32] > 0 /\
                contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q34, q32] = 2
                    | q32 : int(1..let2)])
            /\ contents_Function1DPartialR7_Flags[q34]))
             | q34 : int(1..let1)]),
    and([colour_Function1DPartial_Flags[q40] ->
         (colour_Function1DPartial_Values[q40] = 2 /\ colour_Function1DPartial_Flags[q40] ->
          !(or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q40, q36] > 0 /\
                contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q40, q36] = 3
                    | q36 : int(1..let2)])
            /\ contents_Function1DPartialR7_Flags[q40])
          /\
          !(or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q40, q38] > 0 /\
                contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q40, q38] = 1
                    | q38 : int(1..let2)])
            /\ contents_Function1DPartialR7_Flags[q40]))
             | q40 : int(1..let1)]),
    and([colour_Function1DPartial_Flags[q43] ->
         (colour_Function1DPartial_Values[q43] = 1 /\ colour_Function1DPartial_Flags[q43] ->
          sum([toInt(contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q43, q41] = 4) *
               catchUndef(contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q43, q41], 0)
                   | q41 : int(1..let2)])
          <= 1
          /\ contents_Function1DPartialR7_Flags[q43])
             | q43 : int(1..let1)]),
    and([colour_Function1DPartial_Flags[q46] ->
         (colour_Function1DPartial_Values[q46] = 2 /\ colour_Function1DPartial_Flags[q46] ->
          sum([toInt(contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q46, q44] = 4) *
               catchUndef(contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q46, q44], 0)
                   | q44 : int(1..let2)])
          <= 2
          /\ contents_Function1DPartialR7_Flags[q46])
             | q46 : int(1..let1)]),
    and([colour_Function1DPartial_Flags[q52] ->
         (or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q52, q50] > 0 /\
              contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q52, q50] = 4
                  | q50 : int(1..let2)])
          /\ contents_Function1DPartialR7_Flags[q52]
          ->
          or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q52, q48] > 0 /\
              contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q52, q48] = 2
                  | q48 : int(1..let2)])
          /\ contents_Function1DPartialR7_Flags[q52])
             | q52 : int(1..let1)]),
    and([colour_Function1DPartial_Flags[q58] ->
         (or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q58, q56] > 0 /\
              contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q58, q56] = 1
                  | q56 : int(1..let2)])
          /\ contents_Function1DPartialR7_Flags[q58]
          ->
          !(or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q58, q54] > 0 /\
                contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q58, q54] = 5
                    | q54 : int(1..let2)])
            /\ contents_Function1DPartialR7_Flags[q58]))
             | q58 : int(1..let1)]),
    and([colour_Function1DPartial_Flags[q64] ->
         (or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q64, q62] > 0 /\
              contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q64, q62] = 5
                  | q62 : int(1..let2)])
          /\ contents_Function1DPartialR7_Flags[q64]
          ->
          !(or([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q64, q60] > 0 /\
                contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q64, q60] = 2
                    | q60 : int(1..let2)])
            /\ contents_Function1DPartialR7_Flags[q64]))
             | q64 : int(1..let1)]),
    and([colour_Function1DPartial_Flags[q2] = false -> colour_Function1DPartial_Values[q2] = 1 | q2 : int(1..let1)]),
    and([contents_Function1DPartialR7_Flags[q5] = false ->
         and([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q5, q17] = 0 | q17 : int(1..let2)]) /\
         and([contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q5, q18] = 1 | q18 : int(1..let2)])
             | q5 : int(1..let1)]),
    and([contents_Function1DPartialR7_Flags[q7] ->
         and([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q7, q8 + 1] > 0 ->
              contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q7, q8] <
              contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q7, q8 + 1]
                  | q8 : int(1..let2 - 1)])
             | q7 : int(1..let1)]),
    and([contents_Function1DPartialR7_Flags[q7] ->
         and([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q7, q9] = 0 ->
              contents_Function1DPartialR7_Values_ExplicitWithFlags_Values[q7, q9] = 1
                  | q9 : int(1..let2)])
             | q7 : int(1..let1)]),
    and([contents_Function1DPartialR7_Flags[q7] ->
         and([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q7, q10 + 1] > 0 ->
              contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q7, q10] > 0
                  | q10 : int(1..let2 - 1)])
             | q7 : int(1..let1)]),
    and([contents_Function1DPartialR7_Flags[q7] ->
         sum([contents_Function1DPartialR7_Values_ExplicitWithFlags_Flags[q7, q12] | q12 : int(1..let2)]) <= let2
             | q7 : int(1..let1)])

$ Conjure's
$ {"finds": [{"Name": "colour"}, {"Name": "contents"}],
$  "givens": [{"Name": "maxMaterial"}, {"Name": "quantity"}, {"Name": "capacity"}],
$  "enumGivens": [],
$  "enumLettings":
$      [{"LettingDomainDefnEnum":
$            [{"Name": "Material"},
$             [{"Name": "glass"}, {"Name": "plastic"}, {"Name": "steel"}, {"Name": "wood"}, {"Name": "copper"}]]},
$       {"LettingDomainDefnEnum": [{"Name": "Colour"}, [{"Name": "red"}, {"Name": "green"}, {"Name": "blue"}]]}],
$  "lettings":
$      [[{"Name": "Material"},
$        {"Domain":
$             {"DomainInt": [{"RangeBounded": [{"Constant": {"ConstantInt": 1}}, {"Constant": {"ConstantInt": 5}}]}]}}],
$       [{"Name": "Colour"},
$        {"Domain":
$             {"DomainInt": [{"RangeBounded": [{"Constant": {"ConstantInt": 1}}, {"Constant": {"ConstantInt": 3}}]}]}}],
$       [{"MachineName": ["let", 1, []]},
$        {"Op":
$             {"MkOpSum":
$                  {"Comprehension":
$                       [{"Op":
$                             {"MkOpImage":
$                                  [{"Reference":
$                                        [{"Name": "quantity"},
$                                         {"DeclNoRepr":
$                                              ["Given", {"Name": "quantity"},
$                                               {"DomainFunction":
$                                                    [[],
$                                                     [{"SizeAttr_Size":
$                                                           {"Reference":
$                                                                [{"MachineName": ["fin", 1, []]},
$                                                                 {"DeclNoRepr":
$                                                                      ["Given", {"MachineName": ["fin", 1, []]},
$                                                                       {"DomainInt": []}, {"NoRegion": []}]}]}},
$                                                      "PartialityAttr_Total", "JectivityAttr_None"],
$                                                     {"DomainInt":
$                                                          [{"RangeBounded":
$                                                                [{"Constant": {"ConstantInt": 1}},
$                                                                 {"Constant": {"ConstantInt": 5}}]}]},
$                                                     {"DomainInt":
$                                                          [{"RangeBounded":
$                                                                [{"Constant": {"ConstantInt": 0}},
$                                                                 {"Reference":
$                                                                      [{"MachineName": ["fin", 2, []]},
$                                                                       {"DeclNoRepr":
$                                                                            ["Given", {"MachineName": ["fin", 2, []]},
$                                                                             {"DomainInt": []},
$                                                                             {"NoRegion": []}]}]}]}]}]},
$                                               {"NoRegion": []}]}]},
$                                   {"Reference":
$                                        [{"Name": "m"},
$                                         {"DeclNoRepr":
$                                              ["Quantified", {"Name": "m"},
$                                               {"DomainInt":
$                                                    [{"RangeBounded":
$                                                          [{"Constant": {"ConstantInt": 1}},
$                                                           {"Constant": {"ConstantInt": 5}}]}]},
$                                               {"NoRegion": []}]}]}]}},
$                        [{"Generator":
$                              {"GenDomainNoRepr":
$                                   [{"Single": {"Name": "m"}},
$                                    {"DomainInt":
$                                         [{"RangeBounded":
$                                               [{"Constant": {"ConstantInt": 1}},
$                                                {"Constant": {"ConstantInt": 5}}]}]}]}}]]}}}],
$       [{"Name": "Bin"},
$        {"Domain":
$             {"DomainInt":
$                  [{"RangeBounded":
$                        [{"Constant": {"ConstantInt": 1}},
$                         {"Reference":
$                              [{"MachineName": ["let", 1, []]},
$                               {"Alias":
$                                    {"Op":
$                                         {"MkOpSum":
$                                              {"Comprehension":
$                                                   [{"Op":
$                                                         {"MkOpImage":
$                                                              [{"Reference":
$                                                                    [{"Name": "quantity"},
$                                                                     {"DeclNoRepr":
$                                                                          ["Given", {"Name": "quantity"},
$                                                                           {"DomainFunction":
$                                                                                [[],
$                                                                                 [{"SizeAttr_Size":
$                                                                                       {"Reference":
$                                                                                            [{"MachineName":
$                                                                                                  ["fin", 1, []]},
$                                                                                             {"DeclNoRepr":
$                                                                                                  ["Given",
$                                                                                                   {"MachineName":
$                                                                                                        ["fin", 1, []]},
$                                                                                                   {"DomainInt": []},
$                                                                                                   {"NoRegion": []}]}]}},
$                                                                                  "PartialityAttr_Total",
$                                                                                  "JectivityAttr_None"],
$                                                                                 {"DomainInt":
$                                                                                      [{"RangeBounded":
$                                                                                            [{"Constant":
$                                                                                                  {"ConstantInt": 1}},
$                                                                                             {"Constant":
$                                                                                                  {"ConstantInt":
$                                                                                                       5}}]}]},
$                                                                                 {"DomainInt":
$                                                                                      [{"RangeBounded":
$                                                                                            [{"Constant":
$                                                                                                  {"ConstantInt": 0}},
$                                                                                             {"Reference":
$                                                                                                  [{"MachineName":
$                                                                                                        ["fin", 2, []]},
$                                                                                                   {"DeclNoRepr":
$                                                                                                        ["Given",
$                                                                                                         {"MachineName":
$                                                                                                              ["fin", 2,
$                                                                                                               []]},
$                                                                                                         {"DomainInt":
$                                                                                                              []},
$                                                                                                         {"NoRegion":
$                                                                                                              []}]}]}]}]}]},
$                                                                           {"NoRegion": []}]}]},
$                                                               {"Reference":
$                                                                    [{"Name": "m"},
$                                                                     {"DeclNoRepr":
$                                                                          ["Quantified", {"Name": "m"},
$                                                                           {"DomainInt":
$                                                                                [{"RangeBounded":
$                                                                                      [{"Constant": {"ConstantInt": 1}},
$                                                                                       {"Constant":
$                                                                                            {"ConstantInt": 5}}]}]},
$                                                                           {"NoRegion": []}]}]}]}},
$                                                    [{"Generator":
$                                                          {"GenDomainNoRepr":
$                                                               [{"Single": {"Name": "m"}},
$                                                                {"DomainInt":
$                                                                     [{"RangeBounded":
$                                                                           [{"Constant": {"ConstantInt": 1}},
$                                                                            {"Constant":
$                                                                                 {"ConstantInt":
$                                                                                      5}}]}]}]}}]]}}}}]}]}]}}],
$       [{"MachineName": ["let", 2, []]},
$        {"Op":
$             {"MkOpMax":
$                  {"Op":
$                       {"MkOpRange":
$                            {"Reference":
$                                 [{"Name": "capacity"},
$                                  {"DeclNoRepr":
$                                       ["Given", {"Name": "capacity"},
$                                        {"DomainFunction":
$                                             [[],
$                                              [{"SizeAttr_Size":
$                                                    {"Reference":
$                                                         [{"MachineName": ["fin", 3, []]},
$                                                          {"DeclNoRepr":
$                                                               ["Given", {"MachineName": ["fin", 3, []]},
$                                                                {"DomainInt": []}, {"NoRegion": []}]}]}},
$                                               "PartialityAttr_Total", "JectivityAttr_None"],
$                                              {"DomainInt":
$                                                   [{"RangeBounded":
$                                                         [{"Constant": {"ConstantInt": 1}},
$                                                          {"Constant": {"ConstantInt": 3}}]}]},
$                                              {"DomainInt":
$                                                   [{"RangeBounded":
$                                                         [{"Constant": {"ConstantInt": 0}},
$                                                          {"Reference":
$                                                               [{"MachineName": ["fin", 4, []]},
$                                                                {"DeclNoRepr":
$                                                                     ["Given", {"MachineName": ["fin", 4, []]},
$                                                                      {"DomainInt": []}, {"NoRegion": []}]}]}]}]}]},
$                                        {"NoRegion": []}]}]}}}}}]],
$  "unnameds": [[{"Name": "Bin"}, {"Reference": [{"MachineName": ["let", 1, []]}, null]}]],
$  "strategyQ": {"PickFirst": []},
$  "strategyA": {"PickAll": []},
$  "trailCompact":
$      [[1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 2], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1],
$       [1, 1, 1]],
$  "trailVerbose": [],
$  "trailRewrites": [],
$  "nameGenState": [["fin", 5], ["let", 3], ["q", 68]],
$  "nbExtraGivens": 4,
$  "representations":
$      [[{"MachineName": ["fin", 4, []]}, {"DomainInt": []}], [{"MachineName": ["fin", 1, []]}, {"DomainInt": []}],
$       [{"MachineName": ["fin", 2, []]}, {"DomainInt": []}], [{"MachineName": ["fin", 3, []]}, {"DomainInt": []}],
$       [{"Name": "quantity"},
$        {"DomainFunction":
$             [{"Function_1D": []},
$              [{"SizeAttr_Size":
$                    {"Reference":
$                         [{"MachineName": ["fin", 1, []]},
$                          {"DeclHasRepr": ["Given", {"MachineName": ["fin", 1, []]}, {"DomainInt": []}]}]}},
$               "PartialityAttr_Total", "JectivityAttr_None"],
$              {"DomainInt": [{"RangeBounded": [{"Constant": {"ConstantInt": 1}}, {"Constant": {"ConstantInt": 5}}]}]},
$              {"DomainInt":
$                   [{"RangeBounded":
$                         [{"Constant": {"ConstantInt": 0}},
$                          {"Reference":
$                               [{"MachineName": ["fin", 2, []]},
$                                {"DeclHasRepr": ["Given", {"MachineName": ["fin", 2, []]}, {"DomainInt": []}]}]}]}]}]}],
$       [{"Name": "maxMaterial"}, {"DomainInt": []}],
$       [{"Name": "colour"},
$        {"DomainFunction":
$             [{"Function_1DPartial": []}, [{"SizeAttr_None": []}, "PartialityAttr_Partial", "JectivityAttr_None"],
$              {"DomainInt":
$                   [{"RangeBounded":
$                         [{"Constant": {"ConstantInt": 1}},
$                          {"Reference":
$                               [{"MachineName": ["let", 1, []]},
$                                {"Alias":
$                                     {"Op":
$                                          {"MkOpSum":
$                                               {"Comprehension":
$                                                    [{"Op":
$                                                          {"MkOpImage":
$                                                               [{"Reference":
$                                                                     [{"Name": "quantity"},
$                                                                      {"DeclHasRepr":
$                                                                           ["Given", {"Name": "quantity"},
$                                                                            {"DomainFunction":
$                                                                                 [{"Function_1D": []},
$                                                                                  [{"SizeAttr_Size":
$                                                                                        {"Reference":
$                                                                                             [{"MachineName":
$                                                                                                   ["fin", 1, []]},
$                                                                                              {"DeclHasRepr":
$                                                                                                   ["Given",
$                                                                                                    {"MachineName":
$                                                                                                         ["fin", 1, []]},
$                                                                                                    {"DomainInt":
$                                                                                                         []}]}]}},
$                                                                                   "PartialityAttr_Total",
$                                                                                   "JectivityAttr_None"],
$                                                                                  {"DomainInt":
$                                                                                       [{"RangeBounded":
$                                                                                             [{"Constant":
$                                                                                                   {"ConstantInt": 1}},
$                                                                                              {"Constant":
$                                                                                                   {"ConstantInt":
$                                                                                                        5}}]}]},
$                                                                                  {"DomainInt":
$                                                                                       [{"RangeBounded":
$                                                                                             [{"Constant":
$                                                                                                   {"ConstantInt": 0}},
$                                                                                              {"Reference":
$                                                                                                   [{"MachineName":
$                                                                                                         ["fin", 2, []]},
$                                                                                                    {"DeclHasRepr":
$                                                                                                         ["Given",
$                                                                                                          {"MachineName":
$                                                                                                               ["fin", 2,
$                                                                                                                []]},
$                                                                                                          {"DomainInt":
$                                                                                                               []}]}]}]}]}]}]}]},
$                                                                {"Reference":
$                                                                     [{"Name": "m"},
$                                                                      {"DeclHasRepr":
$                                                                           ["Quantified", {"Name": "m"},
$                                                                            {"DomainInt":
$                                                                                 [{"RangeBounded":
$                                                                                       [{"Constant": {"ConstantInt": 1}},
$                                                                                        {"Constant":
$                                                                                             {"ConstantInt":
$                                                                                                  5}}]}]}]}]}]}},
$                                                     [{"Generator":
$                                                           {"GenDomainHasRepr":
$                                                                [{"Name": "m"},
$                                                                 {"DomainInt":
$                                                                      [{"RangeBounded":
$                                                                            [{"Constant": {"ConstantInt": 1}},
$                                                                             {"Constant":
$                                                                                  {"ConstantInt": 5}}]}]}]}}]]}}}}]}]}]},
$              {"DomainInt": [{"RangeBounded": [{"Constant": {"ConstantInt": 1}}, {"Constant": {"ConstantInt": 3}}]}]}]}],
$       [{"Name": "contents"},
$        {"DomainFunction":
$             [{"Function_1DPartial": []}, [{"SizeAttr_None": []}, "PartialityAttr_Partial", "JectivityAttr_None"],
$              {"DomainInt":
$                   [{"RangeBounded":
$                         [{"Constant": {"ConstantInt": 1}},
$                          {"Reference":
$                               [{"MachineName": ["let", 1, []]},
$                                {"Alias":
$                                     {"Op":
$                                          {"MkOpSum":
$                                               {"Comprehension":
$                                                    [{"Op":
$                                                          {"MkOpImage":
$                                                               [{"Reference":
$                                                                     [{"Name": "quantity"},
$                                                                      {"DeclHasRepr":
$                                                                           ["Given", {"Name": "quantity"},
$                                                                            {"DomainFunction":
$                                                                                 [{"Function_1D": []},
$                                                                                  [{"SizeAttr_Size":
$                                                                                        {"Reference":
$                                                                                             [{"MachineName":
$                                                                                                   ["fin", 1, []]},
$                                                                                              {"DeclHasRepr":
$                                                                                                   ["Given",
$                                                                                                    {"MachineName":
$                                                                                                         ["fin", 1, []]},
$                                                                                                    {"DomainInt":
$                                                                                                         []}]}]}},
$                                                                                   "PartialityAttr_Total",
$                                                                                   "JectivityAttr_None"],
$                                                                                  {"DomainInt":
$                                                                                       [{"RangeBounded":
$                                                                                             [{"Constant":
$                                                                                                   {"ConstantInt": 1}},
$                                                                                              {"Constant":
$                                                                                                   {"ConstantInt":
$                                                                                                        5}}]}]},
$                                                                                  {"DomainInt":
$                                                                                       [{"RangeBounded":
$                                                                                             [{"Constant":
$                                                                                                   {"ConstantInt": 0}},
$                                                                                              {"Reference":
$                                                                                                   [{"MachineName":
$                                                                                                         ["fin", 2, []]},
$                                                                                                    {"DeclHasRepr":
$                                                                                                         ["Given",
$                                                                                                          {"MachineName":
$                                                                                                               ["fin", 2,
$                                                                                                                []]},
$                                                                                                          {"DomainInt":
$                                                                                                               []}]}]}]}]}]}]}]},
$                                                                {"Reference":
$                                                                     [{"Name": "m"},
$                                                                      {"DeclHasRepr":
$                                                                           ["Quantified", {"Name": "m"},
$                                                                            {"DomainInt":
$                                                                                 [{"RangeBounded":
$                                                                                       [{"Constant": {"ConstantInt": 1}},
$                                                                                        {"Constant":
$                                                                                             {"ConstantInt":
$                                                                                                  5}}]}]}]}]}]}},
$                                                     [{"Generator":
$                                                           {"GenDomainHasRepr":
$                                                                [{"Name": "m"},
$                                                                 {"DomainInt":
$                                                                      [{"RangeBounded":
$                                                                            [{"Constant": {"ConstantInt": 1}},
$                                                                             {"Constant":
$                                                                                  {"ConstantInt": 5}}]}]}]}}]]}}}}]}]}]},
$              {"DomainMSet":
$                   [{"MSet_ExplicitWithFlags": []},
$                    [{"SizeAttr_MaxSize":
$                          {"Reference":
$                               [{"MachineName": ["let", 2, []]},
$                                {"Alias":
$                                     {"Reference":
$                                          [{"MachineName": ["fin", 4, []]},
$                                           {"DeclHasRepr":
$                                                ["Given", {"MachineName": ["fin", 4, []]}, {"DomainInt": []}]}]}}]}},
$                     {"OccurAttr_MaxOccur":
$                          {"Reference":
$                               [{"Name": "maxMaterial"},
$                                {"DeclHasRepr": ["Given", {"Name": "maxMaterial"}, {"DomainInt": []}]}]}}],
$                    {"DomainInt":
$                         [{"RangeBounded": [{"Constant": {"ConstantInt": 1}}, {"Constant": {"ConstantInt": 5}}]}]}]}]}],
$       [{"Name": "capacity"},
$        {"DomainFunction":
$             [{"Function_1D": []},
$              [{"SizeAttr_Size":
$                    {"Reference":
$                         [{"MachineName": ["fin", 3, []]},
$                          {"DeclHasRepr": ["Given", {"MachineName": ["fin", 3, []]}, {"DomainInt": []}]}]}},
$               "PartialityAttr_Total", "JectivityAttr_None"],
$              {"DomainInt": [{"RangeBounded": [{"Constant": {"ConstantInt": 1}}, {"Constant": {"ConstantInt": 3}}]}]},
$              {"DomainInt":
$                   [{"RangeBounded":
$                         [{"Constant": {"ConstantInt": 0}},
$                          {"Reference":
$                               [{"MachineName": ["fin", 4, []]},
$                                {"DeclHasRepr": ["Given", {"MachineName": ["fin", 4, []]}, {"DomainInt": []}]}]}]}]}]}]],
$  "representationsTree":
$      [[{"Name": "capacity"},
$        [{"rootLabel": {"Function_1D": []},
$          "subForest":
$              [{"rootLabel": null,
$                "subForest": []},
$               {"rootLabel": null,
$                "subForest": []}]}]],
$       [{"Name": "colour"},
$        [{"rootLabel": {"Function_1DPartial": []},
$          "subForest":
$              [{"rootLabel": null,
$                "subForest": []},
$               {"rootLabel": null,
$                "subForest": []}]}]],
$       [{"Name": "contents"},
$        [{"rootLabel": {"Function_1DPartial": []},
$          "subForest":
$              [{"rootLabel": null,
$                "subForest": []},
$               {"rootLabel": {"MSet_ExplicitWithFlags": []},
$                "subForest":
$                    [{"rootLabel": null,
$                      "subForest": []}]}]}]],
$       [{"MachineName": ["fin", 1, []]},
$        [{"rootLabel": null,
$          "subForest": []}]],
$       [{"MachineName": ["fin", 2, []]},
$        [{"rootLabel": null,
$          "subForest": []}]],
$       [{"MachineName": ["fin", 3, []]},
$        [{"rootLabel": null,
$          "subForest": []}]],
$       [{"MachineName": ["fin", 4, []]},
$        [{"rootLabel": null,
$          "subForest": []}]],
$       [{"Name": "maxMaterial"},
$        [{"rootLabel": null,
$          "subForest": []}]],
$       [{"Name": "quantity"},
$        [{"rootLabel": {"Function_1D": []},
$          "subForest":
$              [{"rootLabel": null,
$                "subForest": []},
$               {"rootLabel": null,
$                "subForest": []}]}]]],
$  "originalDomains":
$      [[{"Name": "maxMaterial"}, {"DomainInt": []}],
$       [{"Name": "quantity"},
$        {"DomainFunction":
$             [[], [{"SizeAttr_None": []}, "PartialityAttr_Total", "JectivityAttr_None"],
$              {"DomainEnum": [{"Name": "Material"}, null, null]},
$              {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 0}}}]}]}],
$       [{"Name": "capacity"},
$        {"DomainFunction":
$             [[], [{"SizeAttr_None": []}, "PartialityAttr_Total", "JectivityAttr_None"],
$              {"DomainEnum": [{"Name": "Colour"}, null, null]},
$              {"DomainInt": [{"RangeLowerBounded": {"Constant": {"ConstantInt": 0}}}]}]}],
$       [{"Name": "colour"},
$        {"DomainFunction":
$             [[], [{"SizeAttr_None": []}, "PartialityAttr_Partial", "JectivityAttr_None"],
$              {"DomainReference": [{"Name": "Bin"}, null]}, {"DomainEnum": [{"Name": "Colour"}, null, null]}]}],
$       [{"Name": "contents"},
$        {"DomainFunction":
$             [[], [{"SizeAttr_None": []}, "PartialityAttr_Partial", "JectivityAttr_None"],
$              {"DomainReference": [{"Name": "Bin"}, null]},
$              {"DomainMSet":
$                   [[],
$                    [{"SizeAttr_MaxSize": {"Reference": [{"MachineName": ["let", 2, []]}, null]}},
$                     {"OccurAttr_MaxOccur": {"Reference": [{"Name": "maxMaterial"}, null]}}],
$                    {"DomainEnum": [{"Name": "Material"}, null, null]}]}]}]],
$  "questionAnswered": []}
